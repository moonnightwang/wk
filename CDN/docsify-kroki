/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/docsify-kroki@1.0.20/dist/docsify-kroki.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(C){typeof define=="function"&&define.amd?define(C):C()})(function(){"use strict";var C=Uint8Array,d=Uint16Array,V=Uint32Array,rr=new C([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),er=new C([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gr=new C([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=function(r,e){for(var a=new d(31),n=0;n<31;++n)a[n]=e+=1<<r[n-1];for(var t=new V(a[30]),n=1;n<30;++n)for(var o=a[n];o<a[n+1];++o)t[o]=o-a[n]<<5|n;return[a,t]},xr=wr(rr,2),_r=xr[0],nr=xr[1];_r[28]=258,nr[258]=28;for(var $r=wr(er,0),yr=$r[1],ar=new d(32768),s=0;s<32768;++s){var L=(s&43690)>>>1|(s&21845)<<1;L=(L&52428)>>>2|(L&13107)<<2,L=(L&61680)>>>4|(L&3855)<<4,ar[s]=((L&65280)>>>8|(L&255)<<8)>>>1}for(var I=function(r,e,a){for(var n=r.length,t=0,o=new d(e);t<n;++t)r[t]&&++o[r[t]-1];var l=new d(e);for(t=0;t<e;++t)l[t]=l[t-1]+o[t-1]<<1;var i;if(a){i=new d(1<<e);var h=15-e;for(t=0;t<n;++t)if(r[t])for(var v=t<<4|r[t],f=e-r[t],g=l[r[t]-1]++<<f,w=g|(1<<f)-1;g<=w;++g)i[ar[g]>>>h]=v}else for(i=new d(n),t=0;t<n;++t)r[t]&&(i[t]=ar[l[r[t]-1]++]>>>15-r[t]);return i},H=new C(288),s=0;s<144;++s)H[s]=8;for(var s=144;s<256;++s)H[s]=9;for(var s=256;s<280;++s)H[s]=7;for(var s=280;s<288;++s)H[s]=8;for(var X=new C(32),s=0;s<32;++s)X[s]=5;var Dr=I(H,9,0),Br=I(X,5,0),dr=function(r){return(r+7)/8|0},mr=function(r,e,a){(e==null||e<0)&&(e=0),(a==null||a>r.length)&&(a=r.length);var n=new(r.BYTES_PER_ELEMENT==2?d:r.BYTES_PER_ELEMENT==4?V:C)(a-e);return n.set(r.subarray(e,a)),n},Lr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cr=function(r,e,a){var n=new Error(e||Lr[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Cr),!a)throw n;return n},B=function(r,e,a){a<<=e&7;var n=e/8|0;r[n]|=a,r[n+1]|=a>>>8},K=function(r,e,a){a<<=e&7;var n=e/8|0;r[n]|=a,r[n+1]|=a>>>8,r[n+2]|=a>>>16},tr=function(r,e){for(var a=[],n=0;n<r.length;++n)r[n]&&a.push({s:n,f:r[n]});var t=a.length,o=a.slice();if(!t)return[lr,0];if(t==1){var l=new C(a[0].s+1);return l[a[0].s]=1,[l,1]}a.sort(function(P,p){return P.f-p.f}),a.push({s:-1,f:25001});var i=a[0],h=a[1],v=0,f=1,g=2;for(a[0]={s:-1,f:i.f+h.f,l:i,r:h};f!=t-1;)i=a[a[v].f<a[g].f?v++:g++],h=a[v!=f&&a[v].f<a[g].f?v++:g++],a[f++]={s:-1,f:i.f+h.f,l:i,r:h};for(var w=o[0].s,n=1;n<t;++n)o[n].s>w&&(w=o[n].s);var u=new d(w+1),b=or(a[f-1],u,0);if(b>e){var n=0,m=0,N=b-e,O=1<<N;for(o.sort(function(p,y){return u[y.s]-u[p.s]||p.f-y.f});n<t;++n){var U=o[n].s;if(u[U]>e)m+=O-(1<<b-u[U]),u[U]=e;else break}for(m>>>=N;m>0;){var Y=o[n].s;u[Y]<e?m-=1<<e-u[Y]++-1:++n}for(;n>=0&&m;--n){var q=o[n].s;u[q]==e&&(--u[q],++m)}b=e}return[new C(u),b]},or=function(r,e,a){return r.s==-1?Math.max(or(r.l,e,a+1),or(r.r,e,a+1)):e[r.s]=a},br=function(r){for(var e=r.length;e&&!r[--e];);for(var a=new d(++e),n=0,t=r[0],o=1,l=function(h){a[n++]=h},i=1;i<=e;++i)if(r[i]==t&&i!=e)++o;else{if(!t&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(t),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(t);o=1,t=r[i]}return[a.subarray(0,n),e]},W=function(r,e){for(var a=0,n=0;n<e.length;++n)a+=r[n]*e[n];return a},fr=function(r,e,a){var n=a.length,t=dr(e+2);r[t]=n&255,r[t+1]=n>>>8,r[t+2]=r[t]^255,r[t+3]=r[t+1]^255;for(var o=0;o<n;++o)r[t+o+4]=a[o];return(t+4+n)*8},Er=function(r,e,a,n,t,o,l,i,h,v,f){B(e,f++,a),++t[256];for(var g=tr(t,15),w=g[0],u=g[1],b=tr(o,15),m=b[0],N=b[1],O=br(w),U=O[0],Y=O[1],q=br(m),P=q[0],p=q[1],y=new d(19),c=0;c<U.length;++c)y[U[c]&31]++;for(var c=0;c<P.length;++c)y[P[c]&31]++;for(var R=tr(y,7),T=R[0],Z=R[1],E=19;E>4&&!T[gr[E-1]];--E);var j=v+5<<3,S=W(t,H)+W(o,X)+l,k=W(t,w)+W(o,m)+l+14+3*E+W(y,T)+(2*y[16]+3*y[17]+7*y[18]);if(j<=S&&j<=k)return fr(e,f,r.subarray(h,h+v));var _,x,M,z;if(B(e,f,1+(k<S)),f+=2,k<S){_=I(w,u,0),x=w,M=I(m,N,0),z=m;var sr=I(T,Z,0);B(e,f,Y-257),B(e,f+5,p-1),B(e,f+10,E-4),f+=14;for(var c=0;c<E;++c)B(e,f+3*c,T[gr[c]]);f+=3*E;for(var $=[U,P],Q=0;Q<2;++Q)for(var G=$[Q],c=0;c<G.length;++c){var D=G[c]&31;B(e,f,sr[D]),f+=T[D],D>15&&(B(e,f,G[c]>>>5&127),f+=G[c]>>>12)}}else _=Dr,x=H,M=Br,z=X;for(var c=0;c<i;++c)if(n[c]>255){var D=n[c]>>>18&31;K(e,f,_[D+257]),f+=x[D+257],D>7&&(B(e,f,n[c]>>>23&31),f+=rr[D]);var A=n[c]&31;K(e,f,M[A]),f+=z[A],A>3&&(K(e,f,n[c]>>>5&8191),f+=er[A])}else K(e,f,_[n[c]]),f+=x[n[c]];return K(e,f,_[256]),f+x[256]},Nr=new V([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lr=new C(0),qr=function(r,e,a,n,t,o){var l=r.length,i=new C(n+l+5*(1+Math.ceil(l/7e3))+t),h=i.subarray(n,i.length-t),v=0;if(!e||l<8)for(var f=0;f<=l;f+=65535){var g=f+65535;g>=l&&(h[v>>3]=o),v=fr(h,v+1,r.subarray(f,g))}else{for(var w=Nr[e-1],u=w>>>13,b=w&8191,m=(1<<a)-1,N=new d(32768),O=new d(m+1),U=Math.ceil(a/3),Y=2*U,q=function(hr){return(r[hr]^r[hr+1]<<U^r[hr+2]<<Y)&m},P=new V(25e3),p=new d(288),y=new d(32),c=0,R=0,f=0,T=0,Z=0,E=0;f<l;++f){var j=q(f),S=f&32767,k=O[j];if(N[S]=k,O[j]=S,Z<=f){var _=l-f;if((c>7e3||T>24576)&&_>423){v=Er(r,h,0,P,p,y,R,T,E,f-E,v),T=c=R=0,E=f;for(var x=0;x<286;++x)p[x]=0;for(var x=0;x<30;++x)y[x]=0}var M=2,z=0,sr=b,$=S-k&32767;if(_>2&&j==q(f-$))for(var Q=Math.min(u,_)-1,G=Math.min(32767,f),D=Math.min(258,_);$<=G&&--sr&&S!=k;){if(r[f+M]==r[f+M-$]){for(var A=0;A<D&&r[f+A]==r[f+A-$];++A);if(A>M){if(M=A,z=$,A>Q)break;for(var fe=Math.min($,A-2),Mr=0,x=0;x<fe;++x){var ur=f-$+x+32768&32767,le=N[ur],Fr=ur-le+32768&32767;Fr>Mr&&(Mr=Fr,k=ur)}}}S=k,k=N[S],$+=S-k+32768&32767}if(z){P[T++]=268435456|nr[M]<<18|yr[z];var Ur=nr[M]&31,Pr=yr[z]&31;R+=rr[Ur]+er[Pr],++p[257+Ur],++y[Pr],Z=f+M,++c}else P[T++]=r[f],++p[r[f]]}}v=Er(r,h,o,P,p,y,R,T,E,f-E,v),!o&&v&7&&(v=fr(h,v+1,lr))}return mr(i,0,n+dr(v)+t)},zr=function(){var r=1,e=0;return{p:function(a){for(var n=r,t=e,o=a.length|0,l=0;l!=o;){for(var i=Math.min(l+2655,o);l<i;++l)t+=n+=a[l];n=(n&65535)+15*(n>>16),t=(t&65535)+15*(t>>16)}r=n,e=t},d:function(){return r%=65521,e%=65521,(r&255)<<24|r>>>8<<16|(e&255)<<8|e>>>8}}},Hr=function(r,e,a,n,t){return qr(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,a,n,!t)},Or=function(r,e,a){for(;a;++e)r[e]=a,a>>>=8},Rr=function(r,e){var a=e.level,n=a==0?0:a<6?1:a==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)};function Yr(r,e){e||(e={});var a=zr();a.p(r);var n=Hr(r,e,2,4);return Rr(n,e),Or(n,n.length-4,a.d()),n}var vr=typeof TextDecoder<"u"&&new TextDecoder,jr=0;try{vr.decode(lr,{stream:!0}),jr=1}catch{}var Gr=function(r){for(var e="",a=0;;){var n=r[a++],t=(n>127)+(n>223)+(n>239);if(a+t>r.length)return[e,mr(r,a-1)];t?t==3?(n=((n&15)<<18|(r[a++]&63)<<12|(r[a++]&63)<<6|r[a++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):t&1?e+=String.fromCharCode((n&31)<<6|r[a++]&63):e+=String.fromCharCode((n&15)<<12|(r[a++]&63)<<6|r[a++]&63):e+=String.fromCharCode(n)}};function Ir(r,e){if(e){for(var a="",n=0;n<r.length;n+=16384)a+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return a}else{if(vr)return vr.decode(r);var t=Gr(r),o=t[0],l=t[1];return l.length&&Cr(8),o}}const Kr=typeof btoa=="function",ir=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const Ar=typeof TextEncoder=="function"?new TextEncoder:void 0,Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",J=Array.prototype.slice.call(Wr);(r=>{let e={};return r.forEach((a,n)=>e[a]=n),e})(J);const F=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const Jr=r=>r.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),pr=Kr?r=>btoa(r):ir?r=>Buffer.from(r,"binary").toString("base64"):r=>{let e,a,n,t,o="";const l=r.length%3;for(let i=0;i<r.length;){if((a=r.charCodeAt(i++))>255||(n=r.charCodeAt(i++))>255||(t=r.charCodeAt(i++))>255)throw new TypeError("invalid character found");e=a<<16|n<<8|t,o+=J[e>>18&63]+J[e>>12&63]+J[e>>6&63]+J[e&63]}return l?o.slice(0,l-3)+"===".substring(l):o},Qr=ir?r=>Buffer.from(r).toString("base64"):r=>{let a=[];for(let n=0,t=r.length;n<t;n+=4096)a.push(F.apply(null,r.subarray(n,n+4096)));return pr(a.join(""))},Vr=r=>{if(r.length<2){var e=r.charCodeAt(0);return e<128?r:e<2048?F(192|e>>>6)+F(128|e&63):F(224|e>>>12&15)+F(128|e>>>6&63)+F(128|e&63)}else{var e=65536+(r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320);return F(240|e>>>18&7)+F(128|e>>>12&63)+F(128|e>>>6&63)+F(128|e&63)}},Xr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zr=r=>r.replace(Xr,Vr),Tr=ir?r=>Buffer.from(r,"utf8").toString("base64"):Ar?r=>Qr(Ar.encode(r)):r=>pr(Zr(r)),re=(r,e=!1)=>e?Jr(Tr(r)):Tr(r);function ee(r){return new TextEncoder().encode(r)}const Sr="image/svg+xml";async function ne(r,e,a){const n=`${(a==null?void 0:a.serverPath)+e}/svg/`;return fetch(n,{method:"POST",body:r}).then(t=>t.text()).then(t=>`
    <object data="data:${Sr};base64,${re(t)}"
    type="${Sr}"></object>
    `)}async function kr(r,e,a){const n=`${(a==null?void 0:a.serverPath)+e}/svg/`,t=ee(r),o=Ir(Yr(t,{level:9}),!0),l=btoa(o).replace(/\+/g,"-").replace(/\//g,"_"),h=`<object type="image/svg+xml" data="${n+l}" />`;return h.length<4e3?h:ne(r,e,a)}async function ae(r,e){let a=cr("span",r);const n=[];for(const t of e.langs){let o=`pre[data-lang="${t}"]`;const l=Array.from(a.querySelectorAll(o));for(const v of l)if(v instanceof HTMLElement){if(!v.parentNode)continue;const g=kr(v.textContent,t,e).then(w=>{const u=cr("p",w);u.dataset.lang=t,v.parentNode.replaceChild(u,v)});n.push(g)}let i=`img[alt="kroki-${t}"]`;const h=Array.from(a.querySelectorAll(i));for(const v of h)if(v instanceof HTMLImageElement){const f=v,g=v.parentNode;if(!g)continue;const w=fetch(f.getAttribute("src")).then(u=>u.text()).then(u=>kr(u,t,e)).then(u=>{const b=cr("p",u);g&&(b.dataset.lang=t,v.parentNode.replaceChild(b,v))});n.push(w)}}for(let t of n)try{await t}catch(o){console.error("error",o);continue}return a.innerHTML}function cr(r,e){const a=document.createElement(r);return e&&(a.innerHTML=e),a}const te={langs:["plantuml","mermaid","svgbob","vega","vegalite","wavedrom","nomnoml","graphviz","erd","ditaa","c4plantuml","packetdiag","nwdiag","actdiag","seqdiag","bytefield","bpmn","blockdiag","rackdiag","pikchr","excalidraw"],serverPath:"//kroki.io/"},oe=(r,e)=>{r.afterEach((a,n)=>{(async()=>{var o;const t=await ae(a,{...te,...(o=e==null?void 0:e.config)==null?void 0:o.kroki});n(t)})()})};window.$docsify||(window.$docsify={}),window.$docsify.plugins=(window.$docsify.plugins??[]).concat(oe)});
//# sourceMappingURL=docsify-kroki.umd.js.map